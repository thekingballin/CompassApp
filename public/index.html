
<!DOCTYPE html>
<html>

  <head>
    <title id="cloakable">Compass - Browser</title>
    <link id="themeStylesheet" rel="stylesheet" href="css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link id="cloak" rel="icon" type="image/png" href="images/logo1.png">
    <script src="/uv/uv.bundle.js"></script>
    <script src="/uv/uv.config.js"></script>
    <script src="/baremux/index.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <meta property="og:title" content="Compass Network" />
    <meta property="og:description" content="Welcome to the new version of Compass! Here we offer a browser type design, a working proxy, and a Compass chat aswell!" />
    <meta property="og:image" content="https://compassnetwork.online/images/logo1.png"/>
    <meta property="og:url" content="https://compassnetwork.online" />                                                            
    <meta property="og:type" content="website" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9281572560121819"
     crossorigin="anonymous"></script>
        <script>
        if ("serviceWorker" in navigator) {
            window.addEventListener("load", async () => {
                await navigator.serviceWorker.register("/uv/sw.js");
            });
        }
        </script>
  </head>      
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HHFVZ1KC6H"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HHFVZ1KC6H');
</script>                                                                                    
<body>                                                                                                                                                                                                                        
                                                                                                        
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
    }

    #vanta-globe {
      width: 100%;
      height: 100%;
      position: absolute;
      opacity: 0;
      top: 0;
      left: 0;
      z-index: -1;
    }

    .content {
      position: relative;
      z-index: 1;
      color: white;
      text-align: center;
      font-family: sans-serif;
      padding-top: 20%;
    }
  </style>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.globe.min.js"></script>


<!--to make a button that directs to a link use onclick="submitdata('https://url.url')"-->

<div id="notification" class="notification"></div>
<div class="app">
    <div class="side-menu">
      <img src="images/logo1.png" style="margin: 5px; pointer-events: none;" width="30px" alt="" class="sideicon">
      <img src="images/game.png" style="margin: 8px; cursor: pointer;" class="sideicon" onclick="addTab(url = 'games.html')">
      <img src="images/bot.png" style="margin: 8px; cursor: pointer;" class="sideicon" onclick="alert('This feature is not available yet.')">
      <img src="images/chat.png" style="margin: 8px; cursor: pointer;" class="sideicon" onclick="addTab(url = 'chat.html')">
      <hr style="margin: 7px; pointer-events: none;" class="sideicon" >
      <img src="images/settings.png" style="margin: 8px; cursor: pointer;"  onclick="openPopup()" class="sideicon">
    </div>
    <div class="browser">
      <div class="top-bar">
        <div class="tab-row">
          <div class="tab-bar" id="tabBar">
            <div class="add-tab" onclick="addTab('default.html')"><img src="images/plus.png" style="width: 15px;" alt=""></div>
          </div>
        </div>
        <div class="url-row">
            <button  onclick="reloadTab()" style="background:none;"><img src="images/refresh.png" id="reload" class="nvimg" alt=""></button>
            <button onclick="goBack()" style="background:none;"><img src="images/chevron-left.png" class="nvimg" alt=""></button>
            <button onclick="goForward()"style="background:none;"><img src="images/right.png" class="nvimg" alt=""></button>
            <input type="text" id="urlInput" placeholder="Type to search or enter web address">
            <button id="searchButton" style="background:none;"><img src="images/search.png" class="nvimg" alt=""></button>
        </div>
      </div>
      <div id="iframeContainer" style="height: 85vh; position: relative;"></div>
    </div>
</div>
<div id="popupOverlay">
  <div id="popupContent">
    <div class="popup-header">
      <h2>Settings</h2>
      <button id="closePopupBtn"><img src="images/x.png" width="20px" alt=""></button>
    </div>
    <div class="popup-body">
      <div class="menu-sidebar">
        <button onclick="showMenu(1)" class="menu-btn active">Appearance</button>
        <button onclick="showMenu(2)" class="menu-btn">Proxy</button>
        <button onclick="showMenu(3)" class="menu-btn">Cloak</button>
      </div>
      <div class="menu-panel-content">
        <div class="menu-page" id="menu1"><h2 style="margin: 0px;">Appearance</h2>
          <h3 style="font-size: 15px;margin: 0px;">Accent Color</h3>
          <select id="themeSelector">
              <option value="dark">Black</option>
              <option value="light">White</option>
              <option value="purple">Purple</option>
              <option value="blue">Blue</option>
              <option value="green">Green</option>
              <option value="red">Red</option>
              <option value="RGB">RGB</option>
          </select>
        </div><!--↑ appearance-->
        <div class="menu-page" id="menu2" style="display: none;"><h2 style="margin: 0px;">Proxy settings</h2>
          <br>
          <h3 style="font-size: 15px;margin: 0px;">Transport - The mode of communication between the client and server.</h3>
          <select id="switcher">
              <option value="epoxy">Epoxy</option>
              <option value="bare">Bare</option>
          </select>
          <br>
          <br>
          <br>
          <h3 style="font-size: 15px;margin: 0px;">Search engine - The program that searches the user input</h3>
          <select id="search-engine">
              <option value="ddg">Duckduckgo</option>
              <option value="gogl">Google</option>
              <option value="bing">Bing</option>
              <option value="yhoo">Yahoo</option>
          </select>
        </div><!--↑ proxy-->
        <div class="menu-page" id="menu3" style="display: none;"><h2 style="margin: 0px;">Cloak settings</h2>
        <h3 style="font-size: 15px;margin: 0px;">Tab cloak</h3>
          <div class="preset">
            <button onclick="applyPreset('Google'); notification('Changed cloak to Google!')">Google</button>
            <button onclick="applyPreset('Google Classroom'); notification('Changed cloak to Google Classroom!')">Google Classroom</button>
            <button onclick="applyPreset('YouTube'); notification('Changed cloak to Youtube!')">YouTube</button>
            <button onclick="applyPreset('Schoology'); notification('Changed cloak to Schoology!')">Schoology</button>
            <button onclick="resetTab(); notification('Reset cloak!')">Reset</button>
          </div>
        </div><!--↑ cloak settings-->
      </div>
    </div>
  </div>
</div>
<script> 
function notification(text) {
  const not = document.getElementById('notification');
  console.log('new notification:', text);
  not.textContent = text;
  not.classList.add('show');
  setTimeout(() => {
    not.classList.remove('show');
  }, 3000);
}
</script>
<script>
  const selector = document.getElementById('themeSelector');

  const savedTheme = localStorage.getItem('theme');
  if (savedTheme) {
    document.documentElement.setAttribute('data-theme', savedTheme);
    selector.value = savedTheme;
  }
  selector.addEventListener('change', () => {
    const selected = selector.value;
    document.documentElement.setAttribute('data-theme', selected);
    localStorage.setItem('theme', selected);
    if (localStorage.getItem('theme') === 'RGB') {
      startRGB();
    } else {
      stopRGB();
    }
  });
</script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  document.getElementById("switcher").value = localStorage.getItem('transfer');
  document.getElementById("search-engine").value = localStorage.getItem('search');
  const selectElement = document.getElementById('switcher');
  const selectElement1 = document.getElementById('search-engine');

  selectElement.addEventListener('change', function() {
    const selectedValue = this.value;
    notification('Changed transport to: ' + selectedValue)
    localStorage.setItem('transfer', selectedValue);
  });
    selectElement1.addEventListener('change', function() {
    const selectedValue = this.value;
    notification('Changed search engine to: ' + selectedValue)
    localStorage.setItem('search', selectedValue);
  });

});

</script>
<script>
let hue = 0;
let rgbInterval;

if (localStorage.getItem('theme') === 'RGB') {
  startRGB();
} else {
  stopRGB();
}

function startRGB() {
  if (rgbInterval) return; // don’t start multiple loops

  rgbInterval = setInterval(() => {
    hue = (hue + 1) % 360;
    document.documentElement.style.setProperty('--accent-color', `hsl(${hue}, 100%, 50%)`);
  }, 50); // speed: lower is faster
}

function stopRGB() {
  clearInterval(rgbInterval);
  rgbInterval = null;
}
</script>


<script>
    function submitData(data) {
    const input = document.getElementById('urlInput');
    input.value = data;

    const event = new KeyboardEvent('keydown', {
      key: 'Enter',
      code: 'Enter',
      keyCode: 13,
      which: 13,
      bubbles: true
    });
    input.dispatchEvent(event);
  }
</script>


<script>
  const urlInput = document.getElementById('urlInput');


  window.addEventListener('message', (event) => {
    if (event.data?.type === 'set-url-input') {
      urlInput.value = event.data.text;


      urlInput.dispatchEvent(new KeyboardEvent('keydown', {
        key: 'Enter',
        bubbles: true
      }));
    }
  });
</script>
<script>
    const presets = {
      "Google": {
        title: "Google",
        favicon: "images/cloaks/google.ico"
      },
      "Google Classroom": {
        title: "Classes",
        favicon: "images/cloaks/classroom.png"
      },
      "YouTube": {
        title: "YouTube",
        favicon: "images/cloaks/utube.ico"
      },
      "Schoology": {
        title: "Home | Schoology",
        favicon: "images/cloaks/powerschool.png"
      }
    };

    function applyPreset(name) {
      const preset = presets[name];
      if (preset) {
        document.title = preset.title;

        let link = document.querySelector("link[rel~='icon']");
        if (!link) {
          link = document.createElement('link');
          link.rel = 'icon';
          document.head.appendChild(link);
        }
        link.href = preset.favicon;
      }

      localStorage.setItem("tabCloak", JSON.stringify(preset));
    }

    function resetTab() {
      document.title = 'Compass - Browser';
      document.querySelector("link[rel~='icon']").href = 'images/logo1.png';
      localStorage.removeItem("tabCloak");
    }

      window.addEventListener("DOMContentLoaded", () => {
      const saved = localStorage.getItem("tabCloak");
      if (saved) {
        const preset = JSON.parse(saved);
        document.title = preset.title;
        document.querySelector("link[rel~='icon']").href = preset.favicon;
      }
    });
</script>


</div>
<script src="js/tabs.js"></script>
<script src="example.js"></script>                                                                                                                      
  </body>
</html>
 
                                                                                                   
